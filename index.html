<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Halloween Event Test</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Creepster&display=swap');

  body {
    background: radial-gradient(circle at center, #0b0014, #000);
    color: white;
    font-family: 'Creepster', cursive;
    text-align: center;
    margin: 0;
    height: 100vh;
    overflow: hidden;
  }

  h1 {
    font-size: 3em;
    margin-top: 100px;
    text-shadow: 0 0 25px orange;
    animation: flicker 1.5s infinite;
  }

  @keyframes flicker {
    0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% {
      text-shadow: 0 0 25px orange, 0 0 50px red;
    }
    20%, 24%, 55% {
      text-shadow: none;
    }
  }

  button {
    background: linear-gradient(45deg, #ff7300, #ff0044);
    border: none;
    padding: 20px 50px;
    color: white;
    font-size: 1.5em;
    border-radius: 12px;
    cursor: pointer;
    box-shadow: 0 0 20px orange;
    transition: 0.3s;
  }

  button:hover {
    transform: scale(1.1);
    box-shadow: 0 0 40px red;
  }
</style>
</head>
<body>

<h1>Halloween Event Test</h1>
<button id="startEventBtn">Start Halloween Event ðŸŽƒ</button>

<script>
document.getElementById('startEventBtn').addEventListener('click', function() {
  const eventHTML = `
  <html>
  <head>
    <title>Halloween Event</title>
    <link rel="icon" href="https://www.google.com/favicon.ico">
    <style>
      body {
        margin: 0;
        background: radial-gradient(circle at center, #0b0014, #000);
        overflow: hidden;
      }
      @keyframes flicker { 
        0%,19%,21%,23%,25%,54%,56%,100%{opacity:1;} 
        20%,24%,55%{opacity:0.8;} 
      }
      .pumpkin-float {
        position: absolute;
        animation: float 6s ease-in-out infinite;
      }
      @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-20px); }
        100% { transform: translateY(0px); }
      }
      .door {
        position: fixed;
        width: 50%;
        height: 100%;
        top: 0;
        background: #2c1a08;
        transition: transform 4s ease-in-out;
        z-index: 100;
      }
      .door.left { left: 0; transform-origin: left; }
      .door.right { right: 0; transform-origin: right; }
      .door.open.left { transform: rotateY(-100deg); }
      .door.open.right { transform: rotateY(100deg); }
      .flash {
        position: fixed;
        inset: 0;
        background: rgba(255,255,255,0.2);
        animation: flash 6s infinite;
      }
      @keyframes flash {
        0%, 80%, 100% { opacity: 0; }
        82% { opacity: 1; }
      }
    </style>
  </head>
  <body>
    <img class="pumpkin-float" style="top:10%; left:10%; animation-delay: 0s;"
      src="https://images.vexels.com/media/users/3/143834/isolated/svg/2c274e2b9fd75ec030525252294d88c1.svg">
    <img class="pumpkin-float" style="top:20%; right:10%; width:60px; animation-delay: 2s;"
      src="https://images.vexels.com/media/users/3/143834/isolated/svg/2c274e2b9fd75ec030525252294d88c1.svg">
    <img class="pumpkin-float" style="bottom:15%; left:30%; width:70px; animation-delay: 4s;"
      src="https://images.vexels.com/media/users/3/143834/isolated/svg/2c274e2b9fd75ec030525252294d88c1.svg">

    <div class="door left"></div>
    <div class="door right"></div>

    <div class="flash"></div>

    <audio id="bgm" loop src="https://drive.google.com/uc?export=preview&id=1_CG378RwQO3Powipw1syFYRb8wvkuRAM"></audio>
    <audio id="thunder" src="https://drive.google.com/uc?export=preview&id=1vADO7UdKSYgjrzgvdbOpTKQ5rZnw2ZDr"></audio>
    <audio id="creak" src="https://drive.google.com/uc?export=preview&id=1zJVVRWSePNFM3fG8jUN6LCcuVqsh0jCe"></audio>

    <script>
      const bgm = document.getElementById('bgm');
      const thunder = document.getElementById('thunder');
      const creak = document.getElementById('creak');

      bgm.volume = 0.5;
      bgm.play().catch(() => console.log("Autoplay blocked until user interacts."));

      setTimeout(() => {
        document.querySelector('.door.left').classList.add('open');
        document.querySelector('.door.right').classList.add('open');
        creak.play();
      }, 2000);

      setInterval(() => {
        thunder.volume = 0.7;
        thunder.currentTime = 0;
        thunder.play();
      }, 10000);
    <\/script>
  </body>
  </html>`;

  const newTab = window.open('about:blank', '_blank');
  if (newTab) {
    newTab.document.open();
    newTab.document.write(eventHTML);
    newTab.document.close();
  } else {
    alert("Popup blocked! Please allow popups for this site.");
  }
});
</script>

</body>
</html>
